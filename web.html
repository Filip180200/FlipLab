<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlipLab - Stream Viewer</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/channels.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Add styles for timer */
        .timer-container {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        .countdown {
            color: #ff4747;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Logo and site name -->
    <div class="site-header">
        <div class="logo-container">
            <i class="fas fa-sync-alt logo-icon"></i>
            <span class="site-name">FlipLab</span>
            <div class="timer-container">
                <span class="countdown" id="countdown">15:00</span>
            </div>
        </div>
    </div>

    <!-- Zawartość strony (wideo i komentarze) -->
    <div id="mainContent">
        <div class="content-wrapper">
            <div class="channels-sidebar">
                <h3 class="channels-header">Recommended</h3>
                <div class="channel-list">
                    <div class="channel">
                        <img class="channel-avatar" src="https://static-cdn.jtvnw.net/jtv_user_pictures/5a72c3d9-424a-40a6-bf23-73370cd85578-profile_image-70x70.png" alt="Lofi Girl">
                        <div class="channel-details">
                            <div class="channel-name">Lofi Girl</div>
                            <div class="channel-game">Just Chatting</div>
                        </div>
                        <div class="viewer-count">12.8K</div>
                    </div>
                    <div class="channel">
                        <img class="channel-avatar" src="https://static-cdn.jtvnw.net/jtv_user_pictures/7ed5e0c6-0191-4eef-8328-4af6e4ea5318-profile_image-70x70.png" alt="pokimane">
                        <div class="channel-details">
                            <div class="channel-name">pokimane</div>
                            <div class="channel-game">Just Chatting</div>
                        </div>
                        <div class="viewer-count">25.4K</div>
                    </div>
                    <div class="channel">
                        <img class="channel-avatar" src="https://static-cdn.jtvnw.net/jtv_user_pictures/f040f0d4-8b30-4215-bd9e-06a2c3977a8c-profile_image-70x70.png" alt="Faker">
                        <div class="channel-details">
                            <div class="channel-name">Faker</div>
                            <div class="channel-game">League of Legends</div>
                        </div>
                        <div class="viewer-count">89.2K</div>
                    </div>
                    <div class="channel">
                        <img class="channel-avatar" src="https://static-cdn.jtvnw.net/jtv_user_pictures/32805a78-d927-48bd-8089-bf5efed53ea4-profile_image-70x70.png" alt="Dream">
                        <div class="channel-details">
                            <div class="channel-name">Dream</div>
                            <div class="channel-game">Minecraft</div>
                        </div>
                        <div class="viewer-count">45.6K</div>
                    </div>
                </div>
            </div>
            <div class="main-content">
                <div class="video-section">
                    <div class="video-container">
                        <div id="player"></div>
                        <div class="stream-info">
                            <div class="stream-header">
                                <div class="stream-header-left">
                                    <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/cd921fcd-53fc-4b1d-be23-0787bc36b756-profile_image-70x70.png" alt="Channel Avatar" class="stream-avatar">
                                    <div class="stream-details">
                                        <h2 class="stream-title">Awesome Gaming Stream</h2>
                                        <div class="channel-info">
                                            <div class="channel-name">Channel Name</div>
                                        </div>
                                        <div class="category-section">
                                            <a href="#" class="channel-category">Just Chatting</a>
                                            <span class="tag">English</span>
                                            <span class="tag">Entertainment</span>
                                        </div>
                                    </div>
                                    <div class="stream-buttons">
                                        <div class="buttons-row">
                                            <button class="follow-btn"><i class="fas fa-heart"></i> Follow</button>
                                            <button class="subscribe-btn">Subscribe</button>
                                        </div>
                                        <div class="viewer-count">1.2K viewers</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat-section">
                    <div class="chat-messages" id="comments"></div>
                    <form id="commentForm">
                        <input type="text" id="comment" placeholder="Napisz komentarz..." required>
                        <button type="submit">Wyślij</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div id="controlPanel" class="control-panel">
            <div class="control-header">
                <h3>Stream Controls</h3>
                <button onclick="toggleControlPanel()"><i class="fas fa-times"></i></button>
            </div>
            <div class="control-section">
                <h4>Viewers</h4>
                <div class="control-group">
                    <input type="range" id="viewerSlider" min="0" max="1000000" step="100" value="32500">
                    <span id="viewerCount">32.5K</span>
                </div>
            </div>
            <div class="control-section">
                <h4>Stream Time</h4>
                <div class="control-group">
                    <button onclick="adjustTime(-3600)">-1h</button>
                    <button onclick="adjustTime(-60)">-1m</button>
                    <button onclick="resetTime()">Reset</button>
                    <button onclick="adjustTime(60)">+1m</button>
                    <button onclick="adjustTime(3600)">+1h</button>
                </div>
            </div>
            <div class="control-section">
                <h4>Interaction Stats</h4>
                <div class="stat-group">
                    <label>Followers: <span id="followerCount">12.5K</span></label>
                    <input type="range" id="followerSlider" min="0" max="100000" step="100" value="12500">
                </div>
                <div class="stat-group">
                    <label>Subscribers: <span id="subCount">2.3K</span></label>
                    <input type="range" id="subSlider" min="0" max="50000" step="100" value="2300">
                </div>
            </div>
        </div>
    </div>

    <!-- Modal do zgłaszania użytkownika -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="report-header">
                <img id="reportAvatar" class="report-avatar" alt="User avatar">
                <h2 id="reportUsername"></h2>
            </div>
            <div class="recent-comments">
                <h3>Ostatnie komentarze:</h3>
                <div id="reportUserComments" class="comments-list"></div>
            </div>
            <p>Czy na pewno chcesz zgłosić tego użytkownika?</p>
            <div class="modal-buttons">
                <button id="reportButton" onclick="reportUser(document.getElementById('reportUsername').innerText.replace('Zgłoś użytkownika: ', ''))">Zgłoś</button>
                <button onclick="closeReportModal()">Anuluj</button>
            </div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Settings button notification
            const settingsButton = document.querySelector('.settings-btn');
            if (settingsButton) {
                settingsButton.addEventListener('click', function() {
                    showNotification('Settings will be available in a future update!', 'info');
                });
            }

            // Follow button toggle
            const followButton = document.querySelector('.follow-btn');
            let isFollowing = false;
            
            if (followButton) {
                followButton.addEventListener('click', function() {
                    isFollowing = !isFollowing;
                    if (isFollowing) {
                        showNotification('Thanks for following!', 'success');
                        followButton.textContent = 'Unfollow';
                        followButton.classList.add('following');
                    } else {
                        showNotification('Successfully unfollowed', 'info');
                        followButton.textContent = 'Follow';
                        followButton.classList.remove('following');
                    }
                });
            }

            // Subscribe button notification
            const subscribeButton = document.querySelector('.subscribe-btn');
            if (subscribeButton) {
                subscribeButton.addEventListener('click', function() {
                    showNotification('Subscription feature coming soon!', 'info');
                });
            }

            // Notification function
            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                
                let icon = 'fa-info-circle';
                if (type === 'success') {
                    icon = 'fa-check-circle';
                }

                notification.innerHTML = `
                    <i class="fas ${icon} notification-icon"></i>
                    <p class="notification-message">${message}</p>
                    <button class="notification-close">
                        <i class="fas fa-times"></i>
                    </button>
                `;

                document.body.appendChild(notification);
                
                // Show notification with animation
                setTimeout(() => notification.classList.add('show'), 100);

                // Auto-hide after 3 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);

                // Close button functionality
                notification.querySelector('.notification-close').addEventListener('click', () => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                });
            }
        });
    </script>
</body>
</html>
